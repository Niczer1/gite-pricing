<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jadore - Conciergerie Saisonnière</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="jadore.css">
</head>
<body>
  <div class="app-container jadore-page">
    <!-- Navigation -->
    <nav class="app-nav">
      <a href="index.html" class="nav-link">Gîte Pricing</a>
      <a href="jadore.html" class="nav-link nav-jadore active">Jadore</a>
    </nav>

    <!-- Header -->
    <header class="app-header jadore-header">
      <h1>Jadore</h1>
      <p class="subtitle">Conciergerie saisonnière — Calcul de rentabilité</p>
    </header>

    <main class="main-content">
      <!-- Panneau de paramètres -->
      <aside class="settings-panel">
        <h2>Paramètres</h2>

        <!-- Nom du gîte -->
        <div class="settings-section">
          <h3>Identification</h3>
          <div class="input-group">
            <label for="jadore-nom-gite">Nom du gîte</label>
            <input type="text" id="jadore-nom-gite" value="" placeholder="Ex: La Maison du Lac">
          </div>
        </div>

        <!-- Ménage -->
        <div class="settings-section">
          <h3>Ménage</h3>
          <div class="input-group">
            <label for="jadore-heures-menage">Nombre d'heures</label>
            <div class="input-with-unit">
              <input type="number" id="jadore-heures-menage" value="5" min="0" step="0.5">
              <span class="unit">h</span>
            </div>
          </div>
          <div class="input-group">
            <label for="jadore-tarif-menage">Tarif horaire HTVA</label>
            <div class="input-with-unit">
              <input type="number" id="jadore-tarif-menage" value="35" min="0" step="1">
              <span class="unit">€</span>
            </div>
          </div>
          <div class="menage-total">
            Ménage TVAC : <strong id="jadore-menage-tvac">211,75 €</strong>
          </div>
        </div>

        <!-- Frais de gestion -->
        <div class="settings-section">
          <h3>Frais de gestion</h3>
          <div class="input-group">
            <label for="jadore-frais-gestion">Pourcentage HTVA (sur loyer)</label>
            <div class="input-with-unit">
              <input type="number" id="jadore-frais-gestion" value="18" min="0" max="100" step="0.5">
              <span class="unit">%</span>
            </div>
          </div>
          <p class="help-text">Appliqué sur le loyer uniquement, puis +21% TVA</p>
        </div>

        <!-- Taux de remplissage -->
        <div class="settings-section">
          <h3>Estimation annuelle</h3>
          <div class="input-group">
            <label for="jadore-taux-remplissage">Taux de remplissage</label>
            <div class="slider-group">
              <input type="range" id="jadore-taux-remplissage" min="20" max="98" value="65" step="1" class="slider-jadore">
              <div class="input-with-unit slider-value-input">
                <input type="number" id="jadore-taux-remplissage-input" value="65" min="20" max="98" step="1">
                <span class="unit">%</span>
              </div>
            </div>
          </div>
          <p class="help-text">Pourcentage de nuits occupées sur l'année (365 nuits)</p>

          <!-- Bouton réglages avancés -->
          <button type="button" id="jadore-btn-advanced" class="btn-advanced-toggle" title="Réglages avancés de l'algorithme">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/><path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.902 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291a1.873 1.873 0 0 0-1.116-2.693l-.318-.094c-.835-.246-.835-1.428 0-1.674l.319-.094a1.873 1.873 0 0 0 1.115-2.693l-.16-.291c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.116l.094-.318z"/></svg>
            Réglages avancés
          </button>

          <!-- Panneau réglages avancés -->
          <div id="jadore-advanced-panel" class="advanced-panel" style="display:none;">
            <h4 class="advanced-panel-title">Calendrier par saison</h4>
            <table class="advanced-table">
              <thead>
                <tr><th></th><th>Jours</th><th>Weekends</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td class="advanced-label">Haute Saison</td>
                  <td><input type="number" id="jadore-adv-jours-hs" value="93" min="1" max="365" class="advanced-input"></td>
                  <td><input type="number" id="jadore-adv-we-hs" value="18" min="1" max="52" class="advanced-input"></td>
                </tr>
                <tr>
                  <td class="advanced-label">Moyenne Saison</td>
                  <td><input type="number" id="jadore-adv-jours-ms" value="61" min="1" max="365" class="advanced-input"></td>
                  <td><input type="number" id="jadore-adv-we-ms" value="10" min="1" max="52" class="advanced-input"></td>
                </tr>
                <tr>
                  <td class="advanced-label">Basse Saison</td>
                  <td><input type="number" id="jadore-adv-jours-bs" value="211" min="1" max="365" class="advanced-input"></td>
                  <td><input type="number" id="jadore-adv-we-bs" value="24" min="1" max="52" class="advanced-input"></td>
                </tr>
              </tbody>
              <tfoot>
                <tr class="advanced-total-row">
                  <td><strong>Total</strong></td>
                  <td><strong id="jadore-adv-total-jours">365</strong></td>
                  <td><strong id="jadore-adv-total-we">52</strong></td>
                </tr>
              </tfoot>
            </table>
            <p id="jadore-adv-warning-jours" class="advanced-warning" style="display:none;">Le total des jours doit faire 365</p>
            <p id="jadore-adv-warning-we" class="advanced-warning" style="display:none;">Le total des weekends doit faire 52</p>

            <h4 class="advanced-panel-title">Taux de base par type</h4>
            <p class="help-text">Proportions de remplissage de référence (le slider ajuste globalement)</p>
            <table class="advanced-table">
              <thead>
                <tr><th></th><th>Semaines</th><th>Weekends</th><th>Midweeks</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td class="advanced-label">Haute Saison</td>
                  <td><input type="number" id="jadore-adv-taux-hs-semaine" value="15" min="0" max="100" step="5" class="advanced-input">%</td>
                  <td><input type="number" id="jadore-adv-taux-hs-weekend" value="100" min="0" max="100" step="5" class="advanced-input">%</td>
                  <td><input type="number" id="jadore-adv-taux-hs-midweek" value="80" min="0" max="100" step="5" class="advanced-input">%</td>
                </tr>
                <tr>
                  <td class="advanced-label">Moyenne Saison</td>
                  <td><input type="number" id="jadore-adv-taux-ms-semaine" value="15" min="0" max="100" step="5" class="advanced-input">%</td>
                  <td><input type="number" id="jadore-adv-taux-ms-weekend" value="80" min="0" max="100" step="5" class="advanced-input">%</td>
                  <td><input type="number" id="jadore-adv-taux-ms-midweek" value="30" min="0" max="100" step="5" class="advanced-input">%</td>
                </tr>
                <tr>
                  <td class="advanced-label">Basse Saison</td>
                  <td><input type="number" id="jadore-adv-taux-bs-semaine" value="5" min="0" max="100" step="5" class="advanced-input">%</td>
                  <td><input type="number" id="jadore-adv-taux-bs-weekend" value="70" min="0" max="100" step="5" class="advanced-input">%</td>
                  <td><input type="number" id="jadore-adv-taux-bs-midweek" value="20" min="0" max="100" step="5" class="advanced-input">%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Prix souhaités "en poche" -->
        <div class="settings-section prix-poche-section">
          <h3>Prix souhaités "en poche"</h3>
          <p class="help-text">Prix total souhaité (ménage inclus)</p>

          <!-- Basse Saison -->
          <div class="season-inputs">
            <h4 class="season-title season-bs">Basse Saison</h4>
            <div class="input-group">
              <label for="jadore-bs-weekend">Weekend (2 nuits)</label>
              <div class="input-with-unit">
                <input type="number" id="jadore-bs-weekend" value="1500" min="0" step="50">
                <span class="unit">€</span>
              </div>
            </div>
            <div class="input-group">
              <label for="jadore-bs-midweek">Midweek (4 nuits)</label>
              <div class="input-with-unit">
                <input type="number" id="jadore-bs-midweek" value="1500" min="0" step="50">
                <span class="unit">€</span>
              </div>
            </div>
            <div class="input-group">
              <label for="jadore-bs-semaine">Semaine (7 nuits)</label>
              <div class="input-with-unit">
                <input type="number" id="jadore-bs-semaine" value="2500" min="0" step="50">
                <span class="unit">€</span>
              </div>
            </div>
          </div>

          <!-- Moyenne Saison -->
          <div class="season-inputs">
            <h4 class="season-title season-ms">Moyenne Saison</h4>
            <div class="input-group">
              <label for="jadore-ms-weekend">Weekend (2 nuits)</label>
              <div class="input-with-unit">
                <input type="number" id="jadore-ms-weekend" value="1800" min="0" step="50">
                <span class="unit">€</span>
              </div>
            </div>
            <div class="input-group">
              <label for="jadore-ms-midweek">Midweek (4 nuits)</label>
              <div class="input-with-unit">
                <input type="number" id="jadore-ms-midweek" value="1600" min="0" step="50">
                <span class="unit">€</span>
              </div>
            </div>
            <div class="input-group">
              <label for="jadore-ms-semaine">Semaine (7 nuits)</label>
              <div class="input-with-unit">
                <input type="number" id="jadore-ms-semaine" value="3000" min="0" step="50">
                <span class="unit">€</span>
              </div>
            </div>
          </div>

          <!-- Haute Saison -->
          <div class="season-inputs">
            <h4 class="season-title season-hs">Haute Saison</h4>
            <div class="input-group">
              <label for="jadore-hs-weekend">Weekend (2 nuits)</label>
              <div class="input-with-unit">
                <input type="number" id="jadore-hs-weekend" value="2000" min="0" step="50">
                <span class="unit">€</span>
              </div>
            </div>
            <div class="input-group">
              <label for="jadore-hs-midweek">Midweek (4 nuits)</label>
              <div class="input-with-unit">
                <input type="number" id="jadore-hs-midweek" value="2000" min="0" step="50">
                <span class="unit">€</span>
              </div>
            </div>
            <div class="input-group">
              <label for="jadore-hs-semaine">Semaine (7 nuits)</label>
              <div class="input-with-unit">
                <input type="number" id="jadore-hs-semaine" value="3500" min="0" step="50">
                <span class="unit">€</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Boutons d'action -->
        <div class="action-buttons">
          <button id="jadore-btn-calculer" class="btn btn-primary btn-jadore">Calculer</button>
          <button id="jadore-btn-reset" class="btn btn-secondary">Réinitialiser</button>
        </div>
      </aside>

      <!-- Zone des résultats -->
      <section class="results-panel">
        <div class="results-header">
          <h2>Résultats</h2>
          <div class="export-buttons">
            <button id="jadore-btn-copy" class="btn btn-outline btn-outline-jadore" title="Copier dans le presse-papier">
              Copier
            </button>
            <button id="jadore-btn-print" class="btn btn-outline btn-outline-jadore" title="Imprimer">
              Imprimer
            </button>
          </div>
        </div>

        <!-- Header pour impression (logo + nom du gîte) -->
        <div id="jadore-print-header" class="print-header">
          <img src="logo1.png" alt="Jadore" class="jadore-logo-print">
        </div>

        <!-- Messages de validation -->
        <div id="jadore-validation-messages" class="validation-messages"></div>

        <!-- Résultats par saison -->
        <div id="jadore-resultats" class="jadore-resultats"></div>

        <!-- Mention légale après les résultats par saison -->
        <div class="jadore-print-disclaimer">
          <p>Ce document est une estimation indicative des revenus nets basée sur les paramètres renseignés. Les montants réels peuvent varier en fonction des conditions de réservation, des promotions appliquées et des éventuels frais supplémentaires. Ce document ne constitue pas un engagement contractuel.</p>
        </div>

        <!-- Estimation annuelle -->
        <div id="jadore-estimation" class="jadore-estimation">
          <h3 class="jadore-saison-titre">Estimation annuelle — <span id="jadore-estimation-nuits">0</span> nuits (<span id="jadore-estimation-taux">65</span>%)</h3>

          <!-- Cartes CA -->
          <div class="jadore-ca-cards">
            <div class="jadore-ca-card jadore-ca-jadore">
              <div class="jadore-ca-label">CA Jadore</div>
              <div class="jadore-ca-montant" id="jadore-ca-jadore">0 €</div>
              <div class="jadore-ca-detail">Ménage + Frais de gestion</div>
            </div>
            <div class="jadore-ca-card jadore-ca-client">
              <div class="jadore-ca-label">CA Client</div>
              <div class="jadore-ca-montant" id="jadore-ca-client">0 €</div>
              <div class="jadore-ca-detail">Revenus propriétaire</div>
            </div>
            <div class="jadore-ca-card jadore-ca-total">
              <div class="jadore-ca-label">CA Total Maison</div>
              <div class="jadore-ca-montant" id="jadore-ca-total">0 €</div>
              <div class="jadore-ca-detail">Total prix en poche</div>
            </div>
          </div>

          <!-- Tableau de répartition -->
          <div class="jadore-repartition-table-container">
            <table class="jadore-repartition-table" id="jadore-repartition-table">
              <thead>
                <tr>
                  <th></th>
                  <th>Semaines</th>
                  <th>Weekends</th>
                  <th>Midweeks</th>
                  <th>Nuits</th>
                  <th>Taux</th>
                </tr>
              </thead>
              <tbody id="jadore-repartition-body">
              </tbody>
            </table>
          </div>
        </div>

        <!-- Mention légale (visible uniquement à l'impression) -->
        <div class="jadore-print-disclaimer">
          <p>Ce document est une estimation indicative des revenus nets basée sur les paramètres renseignés. Les montants réels peuvent varier en fonction des conditions de réservation, des promotions appliquées et des éventuels frais supplémentaires. Ce document ne constitue pas un engagement contractuel.</p>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
      <p>Jadore - Conciergerie Saisonnière v1.0.0</p>
    </footer>
  </div>

  <script src="jadore.js"></script>
</body>
</html>
